(function(e){function t(t){for(var l,r,s=t[0],o=t[1],u=t[2],d=0,m=[];d<s.length;d++)r=s[d],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&m.push(i[r][0]),i[r]=0;for(l in o)Object.prototype.hasOwnProperty.call(o,l)&&(e[l]=o[l]);c&&c(t);while(m.length)m.shift()();return n.push.apply(n,u||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],l=!0,s=1;s<a.length;s++){var o=a[s];0!==i[o]&&(l=!1)}l&&(n.splice(t--,1),e=r(r.s=a[0]))}return e}var l={},i={app:0},n=[];function r(t){if(l[t])return l[t].exports;var a=l[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=l,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)r.d(a,l,function(t){return e[t]}.bind(null,l));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/gundamnew/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],o=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var c=o;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"039d":function(e,t,a){e.exports=a.p+"img/raffle.1d794d46.jpg"},"1f81":function(e,t,a){"use strict";a("8878")},"31a7":function(e,t,a){"use strict";a("5b04")},"31c7":function(e,t,a){},"3f39":function(e,t,a){"use strict";a("5c1e")},4311:function(e,t,a){"use strict";a("31c7")},"454e":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);var l=a("2b0e"),i=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},n=[],r={name:"App"},s=r,o=(a("6af4"),a("2877")),u=Object(o["a"])(s,i,n,!1,null,null,null),c=u.exports,d=a("8c4f"),m=function(){var e=this,t=e._self._c;return t("el-container",{staticStyle:{height:"100vh"}},[t("Nav"),t("el-container",[t("el-header",{staticClass:"custom-header",staticStyle:{"text-align":"right","font-size":"12px"}},[t("el-divider",{staticClass:"unset-margin"}),t("el-breadcrumb",{staticClass:"custom-breadcrumb",attrs:{separator:"/"}},e._l(e.$route.matched,(function(a){return t("el-breadcrumb-item",{key:a.id},[e._v(" "+e._s(a.meta.text)+" ")])})),1)],1),t("el-main",[t("router-view")],1)],1)],1)},p=[],h=function(){var e=this,t=e._self._c;return t("el-aside",{staticStyle:{"background-color":"rgb(238, 241, 246)"},attrs:{width:"250px"}},[t("el-menu",{staticClass:"el-menu-vertical",attrs:{"default-openeds":["1","2","3"],"background-color":"#303c54","text-color":"#fff","active-text-color":"#ffd04b"}},[t("div",{staticClass:"name-web"},[t("h5",[e._v("GundamBienHoa")])]),t("el-submenu",{attrs:{index:"1"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-box"}),e._v("Sản phẩm")]),t("el-menu-item-group",[t("template",{slot:"title"},[e._v("Sản phẩm có sẵn")]),t("router-link",{attrs:{to:"/gundamnew"}},[t("el-menu-item",{attrs:{index:"1-1"}},[e._v("Danh sách")])],1),t("router-link",{attrs:{to:"/gundamnew/add-product"}},[t("el-menu-item",{attrs:{index:"1-2"}},[e._v("Thêm mới")])],1)],2),t("el-menu-item-group",[t("template",{slot:"title"},[e._v("Sản phẩm đặt trước")]),t("router-link",{attrs:{to:"/gundamnew/list-new"}},[t("el-menu-item",{attrs:{index:"1-3"}},[e._v("Danh sách")])],1),t("router-link",{attrs:{to:"/gundamnew/new-product"}},[t("el-menu-item",{attrs:{index:"1-4"}},[e._v("Thêm mới")])],1)],2)],2),t("router-link",{attrs:{to:"/gundamnew/title"}},[t("el-menu-item",{attrs:{index:"2"}},[t("i",{staticClass:"el-icon-document"}),e._v("Tiêu đề ")])],1),t("el-submenu",{attrs:{index:"2"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-trophy"}),e._v("Giải thưởng")]),t("el-menu-item-group",[t("template",{slot:"title"},[e._v("Offline Gundam Bien Hoa")]),t("router-link",{attrs:{to:"/gundamnew/group-reward"}},[t("el-menu-item",{attrs:{index:"1-1"}},[e._v("Danh sách")])],1),t("router-link",{attrs:{to:"/gundamnew/add-group-reward"}},[t("el-menu-item",{attrs:{index:"1-2"}},[e._v("Thêm mới")])],1)],2),t("el-menu-item-group",[t("template",{slot:"title"},[e._v("Group Gundam Bien Hoa")]),t("router-link",{attrs:{to:"/gundamnew/group-reward1"}},[t("el-menu-item",{attrs:{index:"2-1"}},[e._v("Danh sách")])],1)],2)],2),t("el-submenu",{attrs:{index:"3"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-trophy"}),e._v("Raffle")]),t("el-menu-item-group",[t("router-link",{attrs:{to:"/gundamnew/raffle"}},[t("el-menu-item",{attrs:{index:"3-1"}},[e._v("Tạo Raffle")])],1),t("router-link",{attrs:{to:"/gundamnew/location"}},[t("el-menu-item",{attrs:{index:"3-2"}},[e._v("Lấy Vị Trí")])],1)],1)],2)],1)],1)},g=[],f={},b=f,v=(a("31a7"),Object(o["a"])(b,h,g,!1,null,null,null)),y=v.exports,w={data(){const e={date:"2016-05-02",name:"Tom",address:"No. 189, Grove St, Los Angeles"};return{tableData:Array(20).fill(e)}},components:{Nav:y}},_=w,k=(a("e44d"),Object(o["a"])(_,m,p,!1,null,null,null)),x=k.exports,I=function(){var e=this;e._self._c;return e._m(0)},C=[function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"notfound"}},[t("div",{staticClass:"notfound"},[t("div",{staticClass:"notfound-404"},[t("h1",[e._v("4"),t("span",[e._v("0")]),e._v("4")])]),t("h2",[e._v("Trang này không tồn tại")])])])}],L={mounted(){this.backhome()},methods:{backhome(){setTimeout(()=>{this.$router.go(-1)},2e3)}}},$=L,D=(a("4311"),Object(o["a"])($,I,C,!1,null,"5ecfb9f8",null)),A=D.exports,S=function(){var e=this,t=e._self._c;return t("div",[t("div",[t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"120px"}},[t("el-form-item",{attrs:{label:"Pre-order",prop:"title"}},[t("el-input",{model:{value:e.ruleForm.title,callback:function(t){e.$set(e.ruleForm,"title",t)},expression:"ruleForm.title"}})],1),t("el-form-item",{staticClass:"overwrite-left"},[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("Lưu")])],1)],1)],1),t("div",[t("el-form",{ref:"dataStock",staticClass:"dataStock",attrs:{model:e.dataStock,rules:e.rules,"label-width":"120px"}},[t("el-form-item",{attrs:{label:"In Stock",prop:"title"}},[t("el-input",{model:{value:e.dataStock.title,callback:function(t){e.$set(e.dataStock,"title",t)},expression:"dataStock.title"}})],1),t("el-form-item",{staticClass:"overwrite-left"},[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("dataStock")}}},[e._v("Lưu")])],1)],1)],1)])},T=[],U=(a("14d9"),a("8aa5"));a("66ce");const F={apiKey:"AIzaSyAzkLWAjcgySqf46yRmFGJvnUfIhN9Vd-g",authDomain:"gundambienhoa-4c350.firebaseapp.com",databaseURL:"https://gundambienhoa-4c350-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"gundambienhoa-4c350",storageBucket:"gundambienhoa-4c350.appspot.com",messagingSenderId:"800213288761",appId:"1:800213288761:web:f1693c911bdaf446a98ae8",measurementId:"G-5YKC8P4X68"};U["initializeApp"](F);var G=U["database"]();const j=G.ref("/Title");class R{getAll(){return j}create(e){return j.push(e)}update(e,t){return j.child(e).update(t)}delete(e){return j.child(e).remove()}deleteAll(){return j.remove()}}var O=new R,H={name:"title",data(){return{ruleForm:{title:""},dataStock:{title:""},rules:{title:[{required:!0,message:"Vui lòng nhập tựa đề",trigger:"blur"}]}}},methods:{onDataChange(e){let t=[];e.forEach(e=>{let a=e.val();t.push({mess:a})}),this.ruleForm.title=t[0].mess,this.dataStock.title=t[1].mess},submitForm(e){this.$refs[e].validate(t=>{if(!t)return console.log("error submit!!"),!1;{let t="";t="ruleForm"===e?{mess:this.ruleForm.title}:{mess1:this.dataStock.title},console.log(t),O.update("/",t).then(()=>{this.$notify({title:"Hoàn tất",message:"Lưu thành công",type:"success"})}).catch(e=>{this.$notify.error({title:"Lỗi",message:e})})}})}},mounted(){O.getAll().on("value",this.onDataChange)}},V=H,W=(a("91a8"),Object(o["a"])(V,S,T,!1,null,null,null)),P=W.exports,E=function(){var e=this,t=e._self._c;return t("div",[t("el-row",{staticClass:"button-overwrite"},[t("el-button",{staticClass:"el-icon-refresh",attrs:{type:"primary"}},[e._v(" Reload")]),t("el-button",{staticClass:"el-icon-circle-close",attrs:{type:"danger"},on:{click:e.removeAll}},[e._v(" Xóa hết")])],1),t("el-table",{staticStyle:{width:"fit-content"},attrs:{data:e.data.filter(t=>!e.search||t.name.toLowerCase().includes(e.search.toLowerCase())),height:"500"}},[t("el-table-column",{attrs:{prop:"id",label:"ID",width:"50"}}),t("el-table-column",{attrs:{prop:"name",label:"Tên",width:"120"}}),t("el-table-column",{attrs:{prop:"ImgUrl",label:"Hình",width:"300",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[t("img",{staticClass:"img",attrs:{src:e.row.ImgUrl,alt:""}})]}}])}),t("el-table-column",{attrs:{prop:"price",label:"Giá",width:"150"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[e._v(e._s(e.formatPrice(a.row.price)))])]}}])}),t("el-table-column",{attrs:{prop:"deposit",label:"Đặt cọc",width:"150"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[e._v(e._s(e.formatPrice(a.row.deposit)))])]}}])}),t("el-table-column",{attrs:{prop:"date",label:"Tháng về",width:"150"}}),t("el-table-column",{attrs:{prop:"status",label:"Trạng thái",width:"150"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[e._v(e._s(a.row.status?"Còn hàng":"Hết Hàng"))])]}}])}),t("el-table-column",{attrs:{fixed:"right",width:"200"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"small"},on:{click:function(t){return e.prepareDelete(a.row.id)}}},[e._v("Xóa")]),t("el-button",{attrs:{type:"info",size:"small",icon:"el-icon-edit"},on:{click:function(t){return e.updateRow(a.row)}}},[e._v("Sửa")])]}}])},[t("template",{slot:"header"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],attrs:{type:"text",size:"mini",placeholder:"Type to search"},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}})])],2)],1),t("el-dialog",{attrs:{title:"Cảnh báo",visible:e.dialogDelete,width:"30%"},on:{"update:visible":function(t){e.dialogDelete=t}}},[t("span",[e._v("Bạn có muốn xóa sản phẩm này?!")]),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogDelete=!1}}},[e._v("Không")]),t("el-button",{attrs:{type:"danger"},on:{click:e.handleDelete}},[e._v("Có")])],1)]),t("el-dialog",{attrs:{title:"Chỉnh sửa",visible:e.dialogEdit},on:{"update:visible":function(t){e.dialogEdit=t}}},[t("el-form",{ref:"update",attrs:{model:e.update,rules:e.rules}},[t("el-form-item",{attrs:{label:"Tên",prop:"name","label-width":e.formLabelWidth}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.update.name,callback:function(t){e.$set(e.update,"name",t)},expression:"update.name"}})],1),t("el-form-item",{attrs:{label:"Giá",prop:"price","label-width":e.formLabelWidth}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.update.price,callback:function(t){e.$set(e.update,"price",e._n(t))},expression:"update.price"}})],1),t("el-form-item",{attrs:{label:"Giá cọc",prop:"deposit","label-width":e.formLabelWidth}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.update.deposit,callback:function(t){e.$set(e.update,"deposit",e._n(t))},expression:"update.deposit"}})],1),t("el-form-item",{attrs:{label:"Tháng về","label-width":e.formLabelWidth,required:""}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.update.date,callback:function(t){e.$set(e.update,"date",t)},expression:"update.date"}})],1),t("el-form-item",{attrs:{label:"Hình ảnh","label-width":e.formLabelWidth}},[t("div",{staticClass:"wrapper-img"},[e.image_upload?t("img",{attrs:{src:e.image_upload,alt:""}}):t("img",{attrs:{src:a("57ec")}}),t("input",{ref:"upload",staticClass:"file-upload",attrs:{accept:"image/jpeg",type:"file",id:"fileupload-slide"},on:{change:e.showImg}})])]),t("el-form-item",{attrs:{label:"Trạng thái",prop:"status","label-width":e.formLabelWidth}},[t("el-switch",{model:{value:e.update.status,callback:function(t){e.$set(e.update,"status",t)},expression:"update.status"}})],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogEdit=!1}}},[e._v("Hủy Bỏ")]),t("el-button",{attrs:{type:"primary"},on:{click:e.edit}},[e._v("Ghi")])],1)],1)],1)},q=[];const B=G.ref("/Gundams");class M{getAll(){return B}create(e){return B.push(e)}update(e,t){return B.child(e).update(t)}delete(e){return B.child(e).remove()}deleteAll(){return B.remove()}}var z=new M;a("588e");const N=U["storage"]();var X={name:"tutorials-list",data(){return{data:[],search:"",dialogDelete:!1,deleteItem:null,dialogEdit:!1,image_upload:"",update:{ImgUrl:"",deposit:null,id:null,name:"",price:null,status:!0,date:""},rules:{name:[{required:!0,message:"Vui lòng nhập tên sản phẩm",trigger:"blur"}],date:[{required:!0,message:"Vui lòng nhập tháng dự kiến",trigger:"blur"}],price:[{required:!0,message:"Vui lòng nhập giá"},{type:"number",message:"Vui lòng nhập số"}],deposit:[{required:!0,message:"Vui lòng nhập giá"},{type:"number",message:"Vui lòng nhập số"}]},formLabelWidth:"120px",checkUploadFile:!1}},methods:{handleDelete(){null!=this.deleteItem&&(this.dialogDelete=!0,z.delete(this.deleteItem).then(()=>{this.dialogDelete=!1,this.$notify({title:"Hoàn tất",message:"Xóa thành công",type:"success"}),this.getAll(),this.deleteItem=null}).catch(e=>{this.$notify.error({title:"Lỗi",message:e})}))},prepareDelete(e){this.dialogDelete=!0,this.deleteItem=e},onDataChange(e){let t=[];e.forEach(e=>{let a=e.val();t.push({ImgUrl:a.ImgUrl,deposit:a.deposit,id:a.id,name:a.name,price:a.price,status:a.status,date:a.date})}),this.data=t},formatPrice(e){let t=(e/1).toFixed(0).replace(".",",");return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")+" VND"},async edit(){""!==this.image_upload?(!0===this.checkUploadFile&&await this.uploadImage(),await this.$refs["update"].validate(e=>{if(!e)return console.log("error submit!!"),!1;z.update(this.update.id,this.update).then(()=>{this.dialogEdit=!1,this.$notify({title:"Hoàn tất",message:"Sửa thành công",type:"success"}),this.checkUploadFile=!1}).catch(e=>{this.$notify.error({title:"Lỗi",message:e})})})):this.$notify.error({title:"Lỗi",message:"Chưa nhập hình"})},updateRow(e){this.update.deposit=e.deposit,this.update.id=e.id,this.update.name=e.name,this.update.price=e.price,this.update.status=e.status,this.update.ImgUrl=e.ImgUrl,this.update.date=e.date,this.image_upload=e.ImgUrl,this.dialogEdit=!0},removeAll(){z.deleteAll().then(()=>{this.$notify({title:"Hoàn tất",message:"Xóa thành công",type:"success"}),this.getAll()}).catch(e=>{this.$notify.error({title:"Lỗi",message:e})})},showImg(e){this.checkUploadFile=!0,this.image_upload=URL.createObjectURL(e.target.files[0])},async uploadImage(){let e=this.$refs.upload.files[0];const t={contentType:e.type},a=N.ref("Images/"),l=a.child(e.name);await l.put(e,t);const i=await l.getDownloadURL();this.update.ImgUrl=i},getAll(){z.getAll().on("value",this.onDataChange)}},mounted(){this.getAll()},beforeDestroy(){z.getAll().off("value",this.onDataChange)}},K=X,Y=(a("e201"),Object(o["a"])(K,E,q,!1,null,null,null)),J=Y.exports,Q=function(){var e=this,t=e._self._c;return t("div",{staticClass:"wrap"},[t("el-form",{ref:"item",attrs:{model:e.item,rules:e.rules}},[t("el-form-item",{attrs:{label:"Tên",prop:"name","label-width":e.formLabelWidth}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.item.name,callback:function(t){e.$set(e.item,"name",t)},expression:"item.name"}})],1),t("el-form-item",{attrs:{label:"Giá",prop:"price","label-width":e.formLabelWidth}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.item.price,callback:function(t){e.$set(e.item,"price",e._n(t))},expression:"item.price"}})],1),t("el-form-item",{attrs:{label:"Giá cọc",prop:"deposit","label-width":e.formLabelWidth}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.item.deposit,callback:function(t){e.$set(e.item,"deposit",e._n(t))},expression:"item.deposit"}})],1),t("el-form-item",{attrs:{label:"Tháng về","label-width":e.formLabelWidth,required:""}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.item.date,callback:function(t){e.$set(e.item,"date",t)},expression:"item.date"}})],1),t("el-form-item",{attrs:{label:"Hình ảnh","label-width":e.formLabelWidth}},[t("div",{staticClass:"wrapper-img"},[e.image_upload?t("img",{attrs:{src:e.image_upload,alt:""}}):t("img",{attrs:{src:a("57ec")}}),t("input",{ref:"upload",staticClass:"file-upload",attrs:{accept:"image/jpeg",type:"file",id:"fileupload-slide"},on:{change:e.showImg}})])]),t("el-form-item",{attrs:{label:"Trạng thái",prop:"status","label-width":e.formLabelWidth}},[t("el-switch",{model:{value:e.item.status,callback:function(t){e.$set(e.item,"status",t)},expression:"item.status"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("item")}}},[e._v("Tạo")]),t("el-button",{on:{click:function(t){return e.resetForm("item")}}},[e._v("Reset")])],1)],1)],1)},Z=[],ee={data(){return{data:[],image_upload:"",item:{ImgUrl:"",deposit:null,id:null,name:"",price:null,status:!0,date:null},rules:{name:[{required:!0,message:"Vui lòng nhập tên sản phẩm",trigger:"blur"}],price:[{required:!0,message:"Vui lòng nhập giá"},{type:"number",message:"Vui lòng nhập số"}],deposit:[{required:!0,message:"Vui lòng nhập giá"},{type:"number",message:"Vui lòng nhập số"}],date:[{required:!0,message:"Vui lòng nhập tháng dự kiến",trigger:"blur"}]},formLabelWidth:"120px"}},methods:{async submitForm(e){this.$refs.upload.files[0]&&this.image_upload?(await this.uploadImage(),await this.$refs[e].validate(e=>{if(!e)return!1;var t=Object.values(this.data);0!==t.length?this.item.id=t[t.length-1].id+1:this.item.id=1,z.update(this.item.id,this.item).then(()=>{this.$notify({title:"Hoàn tất",message:"Lưu thành công",type:"success"}),this.resetForm("item")}).catch(e=>{this.$notify.error({title:"Lỗi",message:e})})})):this.$notify.error({title:"Lỗi",message:"Chưa nhập hình"})},resetForm(e){this.$refs[e].resetFields(),this.$refs.upload.value=null,this.image_upload=""},onDataChange(e){let t=[];e.forEach(e=>{let a=e.val();t.push({ImgUrl:a.ImgUrl,deposit:a.deposit,id:a.id,name:a.name,price:a.price,status:a.status})}),this.data=t},showImg(e){this.image_upload=URL.createObjectURL(e.target.files[0])},async uploadImage(){let e=this.$refs.upload.files[0];const t={contentType:e.type},a=N.ref("Images/"),l=a.child(e.name);await l.put(e,t);const i=await l.getDownloadURL();this.item.ImgUrl=i},getAll(){z.getAll().on("value",this.onDataChange)}},mounted(){this.getAll()}},te=ee,ae=(a("6957"),Object(o["a"])(te,Q,Z,!1,null,"2b3dc69e",null)),le=ae.exports,ie=function(){var e=this,t=e._self._c;return t("div",{staticClass:"wrap"},[t("el-form",{ref:"item",attrs:{model:e.item,rules:e.rules}},[t("el-form-item",{attrs:{label:"Tên",prop:"name","label-width":e.formLabelWidth}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.item.name,callback:function(t){e.$set(e.item,"name",t)},expression:"item.name"}})],1),t("el-form-item",{attrs:{label:"Giá",prop:"price","label-width":e.formLabelWidth}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.item.price,callback:function(t){e.$set(e.item,"price",e._n(t))},expression:"item.price"}})],1),t("el-form-item",{staticClass:"left",attrs:{label:"Loại Sản Phẩm",prop:"category","label-width":e.formLabelWidth}},[t("el-select",{attrs:{placeholder:"Loại Sản Phẩm"},model:{value:e.item.category,callback:function(t){e.$set(e.item,"category",t)},expression:"item.category"}},e._l(e.category,(function(e){return t("el-option",{key:e.key,attrs:{label:e.content,value:e.key}})})),1)],1),t("el-form-item",{attrs:{label:"Hình ảnh","label-width":e.formLabelWidth}},[t("div",{staticClass:"wrapper-img"},[e.image_upload?t("img",{attrs:{src:e.image_upload,alt:""}}):t("img",{attrs:{src:a("57ec")}}),t("input",{ref:"upload",staticClass:"file-upload",attrs:{accept:"image/jpeg",type:"file",id:"fileupload-slide"},on:{change:e.showImg}})])]),t("el-form-item",{attrs:{label:"Còn hàng",prop:"status","label-width":e.formLabelWidth}},[t("el-switch",{model:{value:e.item.status,callback:function(t){e.$set(e.item,"status",t)},expression:"item.status"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("item")}}},[e._v("Tạo")]),t("el-button",{on:{click:function(t){return e.resetForm("item")}}},[e._v("Reset")])],1)],1)],1)},ne=[];const re=G.ref("/Product");class se{getAll(){return re}create(e){return re.push(e)}update(e,t){return re.child(e).update(t)}delete(e){return re.child(e).remove()}deleteAll(){return re.remove()}}var oe=new se,ue={data(){return{category:[{key:"mg",content:"1/100, MG, MEGA, PG"},{key:"rg",content:"RG BANDAI"},{key:"hg",content:"HG/EG BANDAI"},{key:"sd",content:"SD BANDAI"},{key:"ff",content:"Figure- figure rise"},{key:"30mm",content:"30MM/ 30MS"},{key:"kobu",content:"KotobukiYA"},{key:"pokemon",content:"POKEPLA"},{key:"candytoys",content:"candytoys, shokugan, orther"},{key:"base",content:"BASE, BUild customs"},{key:"tools",content:"Tools"}],data:[],image_upload:"",item:{ImgUrl:"",category:null,id:null,name:"",price:null,status:!0},rules:{name:[{required:!0,message:"Vui lòng nhập tên sản phẩm",trigger:"blur"}],price:[{required:!0,message:"Vui lòng nhập giá"},{type:"number",message:"Vui lòng nhập số"}],category:[{required:!0,message:"Vui lòng chọn loại sản phẩm",trigger:"change"}]},formLabelWidth:"120px"}},methods:{async submitForm(e){this.$refs.upload.files[0]&&this.image_upload?(await this.uploadImage(),await this.$refs[e].validate(e=>{if(!e)return console.log("error submit!!"),!1;var t=Object.values(this.data);0!==t.length?this.item.id=t[t.length-1].id+1:this.item.id=1,oe.update(this.item.id,this.item).then(()=>{this.$notify({title:"Hoàn tất",message:"Lưu thành công",type:"success"}),this.resetForm("item")}).catch(e=>{this.$notify.error({title:"Lỗi",message:e})})})):this.$notify.error({title:"Lỗi",message:"Chưa nhập hình"})},async uploadImage(){let e=this.$refs.upload.files[0];const t={contentType:e.type},a=N.ref("sanpham/"),l=a.child(e.name);await l.put(e,t);const i=await l.getDownloadURL();this.item.ImgUrl=i},resetForm(e){this.$refs[e].resetFields(),this.$refs.upload.value="",this.image_upload=""},showImg(e){this.image_upload=URL.createObjectURL(e.target.files[0])},onDataChange(e){let t=[];e.forEach(e=>{let a=e.val();t.push({ImgUrl:a.ImgUrl,category:a.category,id:a.id,name:a.name,price:a.price,status:a.status})}),this.data=t},getAll(){oe.getAll().on("value",this.onDataChange)}},mounted(){this.getAll()}},ce=ue,de=(a("725d"),Object(o["a"])(ce,ie,ne,!1,null,"1659a474",null)),me=de.exports,pe=function(){var e=this,t=e._self._c;return t("div",[t("el-row",{staticClass:"button-overwrite"},[t("el-button",{staticClass:"el-icon-refresh",attrs:{type:"primary"}},[e._v(" Reload")]),t("el-button",{staticClass:"el-icon-circle-close",attrs:{type:"danger"},on:{click:e.removeAll}},[e._v(" Xóa hết")])],1),t("el-table",{staticStyle:{width:"fit-content"},attrs:{data:e.data.filter(t=>!e.search||t.name.toLowerCase().includes(e.search.toLowerCase())),height:"500"}},[t("el-table-column",{attrs:{prop:"id",label:"ID",width:"120"}}),t("el-table-column",{attrs:{prop:"name",label:"Tên",width:"120"}}),t("el-table-column",{attrs:{prop:"ImgUrl",label:"Hình",width:"300",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[t("img",{staticClass:"img",attrs:{src:e.row.ImgUrl,alt:""}})]}}])}),t("el-table-column",{attrs:{prop:"price",label:"Giá",width:"120"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[e._v(e._s(e.formatPrice(a.row.price)))])]}}])}),t("el-table-column",{attrs:{prop:"category",label:"Loại",width:"200",filters:e.filters,"filter-method":e.filterTag},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[e._v(e._s(e.category.find(e=>e.key===a.row.category).content))])]}}])}),t("el-table-column",{attrs:{prop:"status",label:"Trạng thái",width:"100"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[e._v(e._s(a.row.status?"Còn hàng":"Hết Hàng"))])]}}])}),t("el-table-column",{attrs:{fixed:"right",width:"200"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"small"},on:{click:function(t){return e.prepareDelete(a.row.id)}}},[e._v("Xóa")]),t("el-button",{attrs:{type:"info",size:"small",icon:"el-icon-edit"},on:{click:function(t){return e.updateRow(a.row)}}},[e._v("Sửa")])]}}])},[t("template",{slot:"header"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],attrs:{type:"text",size:"mini",placeholder:"Type to search"},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}})])],2)],1),t("el-dialog",{attrs:{title:"Cảnh báo",visible:e.dialogDelete,width:"30%"},on:{"update:visible":function(t){e.dialogDelete=t}}},[t("span",[e._v("Bạn có muốn xóa sản phẩm này?!")]),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogDelete=!1}}},[e._v("Không")]),t("el-button",{attrs:{type:"danger"},on:{click:e.handleDelete}},[e._v("Có")])],1)]),t("el-dialog",{attrs:{title:"Chỉnh sửa",visible:e.dialogEdit},on:{"update:visible":function(t){e.dialogEdit=t}}},[t("el-form",{ref:"update",attrs:{model:e.update,rules:e.rules}},[t("el-form-item",{attrs:{label:"Tên",prop:"name","label-width":e.formLabelWidth}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.update.name,callback:function(t){e.$set(e.update,"name",t)},expression:"update.name"}})],1),t("el-form-item",{attrs:{label:"Giá",prop:"price","label-width":e.formLabelWidth}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.update.price,callback:function(t){e.$set(e.update,"price",e._n(t))},expression:"update.price"}})],1),t("el-form-item",{staticClass:"left",attrs:{label:"Loại Sản Phẩm",prop:"category","label-width":e.formLabelWidth}},[t("el-select",{attrs:{placeholder:"Loại Sản Phẩm"},model:{value:e.update.category,callback:function(t){e.$set(e.update,"category",t)},expression:"update.category"}},e._l(e.category,(function(e){return t("el-option",{key:e.key,attrs:{label:e.content,value:e.key}})})),1)],1),t("el-form-item",{attrs:{label:"Hình ảnh","label-width":e.formLabelWidth}},[t("div",{staticClass:"wrapper-img"},[e.image_upload?t("img",{attrs:{src:e.image_upload,alt:""}}):t("img",{attrs:{src:a("57ec")}}),t("input",{ref:"upload",staticClass:"file-upload",attrs:{accept:"image/jpeg",type:"file",id:"fileupload-slide"},on:{change:e.showImg}})])]),t("el-form-item",{attrs:{label:"Trạng thái",prop:"status","label-width":e.formLabelWidth}},[t("el-switch",{model:{value:e.update.status,callback:function(t){e.$set(e.update,"status",t)},expression:"update.status"}})],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogEdit=!1}}},[e._v("Hủy Bỏ")]),t("el-button",{attrs:{type:"primary"},on:{click:e.edit}},[e._v("Ghi")])],1)],1)],1)},he=[],ge={name:"tutorials-list",data(){return{data:[],dialogDelete:!1,deleteItem:null,dialogEdit:!1,image_upload:"",update:{ImgUrl:"",category:null,id:null,name:"",price:null,status:!0},search:"",category:[{key:"mg",content:"1/100, MG, MEGA, PG"},{key:"rg",content:"RG BANDAI"},{key:"hg",content:"HG/EG BANDAI"},{key:"sd",content:"SD BANDAI"},{key:"ff",content:"Figure- figure rise"},{key:"30mm",content:"30MM/ 30MS"},{key:"kobu",content:"KotobukiYA"},{key:"pokemon",content:"POKEPLA"},{key:"candytoys",content:"candytoys, shokugan, orther"},{key:"base",content:"BASE, BUild customs"},{key:"tools",content:"Tools"}],filters:[{value:"mg",text:"1/100, MG, MEGA, PG"},{value:"rg",text:"RG BANDAI"},{value:"hg",text:"HG/EG BANDAI"},{value:"sd",text:"SD BANDAI"},{value:"ff",text:"Figure- figure rise"},{value:"30mm",text:"30MM/ 30MS"},{value:"kobu",text:"KotobukiYA"},{value:"pokemon",text:"POKEPLA"},{value:"candytoys",text:"candytoys, shokugan, orther"},{value:"base",text:"BASE, BUild customs"},{value:"tools",text:"Tools"}],rules:{name:[{required:!0,message:"Vui lòng nhập tên sản phẩm",trigger:"blur"}],price:[{required:!0,message:"Vui lòng nhập giá"},{type:"number",message:"Vui lòng nhập số"}],category:[{required:!0,message:"Vui lòng chọn loại sản phẩm",trigger:"change"}]},formLabelWidth:"120px",checkUploadFile:!1}},methods:{filterTag(e,t){return console.log(t),t.category===e},handleDelete(){null!=this.deleteItem&&(this.dialogDelete=!0,oe.delete(this.deleteItem).then(()=>{this.dialogDelete=!1,this.$notify({title:"Hoàn tất",message:"Xóa thành công",type:"success"}),this.getAll(),this.deleteItem=null}).catch(e=>{this.$notify.error({title:"Lỗi",message:e})}))},prepareDelete(e){this.dialogDelete=!0,this.deleteItem=e},onDataChange(e){let t=[];e.forEach(e=>{let a=e.val();t.push({ImgUrl:a.ImgUrl,category:a.category,id:a.id,name:a.name,price:a.price,status:a.status})}),this.data=t},formatPrice(e){let t=(e/1).toFixed(0).replace(".",",");return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")+" VND"},async edit(){""!==this.image_upload?(!0===this.checkUploadFile&&await this.uploadImage(),await this.$refs["update"].validate(e=>{if(!e)return console.log("error submit!!"),!1;oe.update(this.update.id,this.update).then(()=>{this.dialogEdit=!1,this.$notify({title:"Hoàn tất",message:"Sửa thành công",type:"success"}),this.checkUploadFile=!1}).catch(e=>{this.$notify.error({title:"Lỗi",message:e})})})):this.$notify.error({title:"Lỗi",message:"Chưa nhập hình"})},updateRow(e){this.update.category=e.category,this.update.id=e.id,this.update.name=e.name,this.update.price=e.price,this.update.status=e.status,this.update.ImgUrl=e.ImgUrl,this.image_upload=e.ImgUrl,this.dialogEdit=!0},removeAll(){oe.deleteAll().then(()=>{this.$notify({title:"Hoàn tất",message:"Xóa thành công",type:"success"}),this.getAll()}).catch(e=>{this.$notify.error({title:"Lỗi",message:e})})},showImg(e){this.checkUploadFile=!0,this.image_upload=URL.createObjectURL(e.target.files[0])},async uploadImage(){let e=this.$refs.upload.files[0];const t={contentType:e.type},a=N.ref("Images/"),l=a.child(e.name);await l.put(e,t);const i=await l.getDownloadURL();this.update.ImgUrl=i},getAll(){oe.getAll().on("value",this.onDataChange)}},mounted(){this.getAll()},beforeDestroy(){oe.getAll().off("value",this.onDataChange)}},fe=ge,be=(a("b87f"),Object(o["a"])(fe,pe,he,!1,null,null,null)),ve=be.exports,ye=function(){var e=this,t=e._self._c;return t("div",[t("el-table",{staticStyle:{width:"fit-content"},attrs:{data:e.data,height:"600px"}},[t("el-table-column",{attrs:{prop:"id",label:"ID",width:"120"}}),t("el-table-column",{attrs:{prop:"name",label:"Giải",width:"120"}}),t("el-table-column",{attrs:{prop:"ImgUrl",label:"Hình",width:"300",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[t("img",{staticClass:"img",attrs:{src:e.row.ImgUrl,alt:""}})]}}])}),t("el-table-column",{attrs:{prop:"point",label:"Tổng điểm",width:"120"}}),t("el-table-column",{attrs:{prop:"condition",label:"Độ hoàn thiện",width:"120"}}),t("el-table-column",{attrs:{prop:"paint",label:"Độ hoàn thiện",width:"120"}}),t("el-table-column",{attrs:{prop:"idea",label:"Ý tưởng",width:"120"}}),t("el-table-column",{attrs:{prop:"vote",label:"Bình chọn",width:"120"}}),t("el-table-column",{attrs:{prop:"status",label:"Trạng thái",width:"100"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[e._v(e._s(a.row.status?"Hiện":"Ẩn"))])]}}])}),t("el-table-column",{attrs:{fixed:"right",width:"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"small"},on:{click:function(t){return e.prepareDelete(a.row.id)}}},[e._v("Xóa")])]}}])})],1),t("el-dialog",{attrs:{title:"Cảnh báo",visible:e.dialogDelete,width:"30%"},on:{"update:visible":function(t){e.dialogDelete=t}}},[t("span",[e._v("Bạn có muốn xóa sản phẩm này?!")]),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogDelete=!1}}},[e._v("Không")]),t("el-button",{attrs:{type:"danger"},on:{click:e.handleDelete}},[e._v("Có")])],1)])],1)},we=[];const _e=G.ref("/Reward");class ke{getAll(){return _e}create(e){return _e.push(e)}update(e,t){return _e.child(e).update(t)}delete(e){return _e.child(e).remove()}deleteAll(){return _e.remove()}}var xe=new ke,Ie={data(){return{data:[],dialogDelete:!1,deleteItem:null}},methods:{getAll(){xe.getAll().on("value",this.onDataChange)},onDataChange(e){let t=[];e.forEach(e=>{let a=e.val();t.push({id:a.id,code:a.code,name:a.name,condition:a.condition,paint:a.paint,idea:a.idea,vote:a.vote,point:a.point,ImgUrl:a.ImgUrl,status:a.status})}),this.data=t},prepareDelete(e){this.dialogDelete=!0,this.deleteItem=e},handleDelete(){null!=this.deleteItem&&(this.dialogDelete=!0,xe.delete(this.deleteItem).then(()=>{this.dialogDelete=!1,this.$notify({title:"Hoàn tất",message:"Xóa thành công",type:"success"}),this.getAll(),this.deleteItem=null}).catch(e=>{this.$notify.error({title:"Lỗi",message:e})}))}},mounted(){this.getAll()}},Ce=Ie,Le=Object(o["a"])(Ce,ye,we,!1,null,null,null),$e=Le.exports,De=function(){var e=this,t=e._self._c;return t("div",{staticClass:"wrap"},[t("el-form",{ref:"item",attrs:{model:e.item,rules:e.rules}},[t("el-form-item",{attrs:{label:"Mã Số",prop:"code","label-width":e.formLabelWidth}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.item.code,callback:function(t){e.$set(e.item,"code",e._n(t))},expression:"item.code"}})],1),t("el-form-item",{attrs:{label:"Giải",prop:"name","label-width":e.formLabelWidth}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.item.name,callback:function(t){e.$set(e.item,"name",e._n(t))},expression:"item.name"}})],1),t("el-row",[t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"Độ Hoàn Thiện",prop:"condition","label-width":e.formLabelWidth}},[t("el-input",{attrs:{autocomplete:"off"},on:{change:e.getPoint},model:{value:e.item.condition,callback:function(t){e.$set(e.item,"condition",e._n(t))},expression:"item.condition"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"Sơn",prop:"paint","label-width":e.formLabelWidth}},[t("el-input",{attrs:{autocomplete:"off"},on:{change:e.getPoint},model:{value:e.item.paint,callback:function(t){e.$set(e.item,"paint",e._n(t))},expression:"item.paint"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"Ý Tưởng",prop:"idea","label-width":e.formLabelWidth}},[t("el-input",{attrs:{autocomplete:"off"},on:{change:e.getPoint},model:{value:e.item.idea,callback:function(t){e.$set(e.item,"idea",e._n(t))},expression:"item.idea"}})],1)],1)],1),t("el-form-item",{attrs:{label:"Bình Chọn",prop:"vote","label-width":e.formLabelWidth}},[t("el-input",{attrs:{autocomplete:"off"},on:{change:e.getPoint},model:{value:e.item.vote,callback:function(t){e.$set(e.item,"vote",e._n(t))},expression:"item.vote"}})],1),t("el-form-item",{attrs:{label:"Tổng điểm","label-width":e.formLabelWidth}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.item.point,callback:function(t){e.$set(e.item,"point",e._n(t))},expression:"item.point"}})],1),t("el-form-item",{attrs:{label:"Hình ảnh","label-width":e.formLabelWidth}},[t("div",{staticClass:"wrapper-img"},[e.image_upload?t("img",{attrs:{src:e.image_upload,alt:""}}):t("img",{attrs:{src:a("57ec")}}),t("input",{ref:"upload",staticClass:"file-upload",attrs:{accept:"image/jpeg",type:"file",id:"fileupload-slide"},on:{change:e.showImg}})])]),t("el-form-item",{attrs:{label:"Hiện giải",prop:"status","label-width":e.formLabelWidth}},[t("el-switch",{model:{value:e.item.status,callback:function(t){e.$set(e.item,"status",t)},expression:"item.status"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("item")}}},[e._v("Tạo")]),t("el-button",{on:{click:function(t){return e.resetForm("item")}}},[e._v("Reset")])],1)],1)],1)},Ae=[],Se={data(){return{data:[],image_upload:"",item:{id:null,code:null,name:"",condition:0,paint:0,idea:0,vote:0,point:0,ImgUrl:"",status:!0},rules:{name:[{required:!0,message:"Vui lòng Giải"},{type:"number",message:"Vui lòng nhập số"}],code:[{required:!0,message:"Vui lòng Mã Số"},{type:"number",message:"Vui lòng nhập số"}],condition:[{required:!0,message:"Vui lòng Độ Hoàn Thiện"},{type:"number",message:"Vui lòng nhập số"}],paint:[{required:!0,message:"Vui lòng nhập Sơn"},{type:"number",message:"Vui lòng nhập số"}],idea:[{required:!0,message:"Vui lòng nhập Ý Tưởng"},{type:"number",message:"Vui lòng nhập số"}],vote:[{required:!0,message:"Vui lòng nhập Bình Chọn"},{type:"number",message:"Vui lòng nhập số"}]},formLabelWidth:"120px"}},methods:{async submitForm(e){this.$refs.upload.files[0]&&this.image_upload?(await this.uploadImage(),await this.$refs[e].validate(e=>{if(!e)return console.log("error submit!!"),!1;var t=Object.values(this.data);0!==t.length?this.item.id=t[t.length-1].id+1:this.item.id=1,xe.update(this.item.id,this.item).then(()=>{this.$notify({title:"Hoàn tất",message:"Lưu thành công",type:"success"}),this.resetForm("item")}).catch(e=>{this.$notify.error({title:"Lỗi",message:e})})})):this.$notify.error({title:"Lỗi",message:"Chưa nhập hình"})},async uploadImage(){let e=this.$refs.upload.files[0];const t={contentType:e.type},a=N.ref("reward/"),l=a.child(e.name);await l.put(e,t);const i=await l.getDownloadURL();this.item.ImgUrl=i},resetForm(e){this.$refs[e].resetFields(),this.$refs.upload.value="",this.image_upload=""},showImg(e){this.image_upload=URL.createObjectURL(e.target.files[0])},onDataChange(e){let t=[];e.forEach(e=>{let a=e.val();t.push({id:a.id,code:a.code,name:a.name,condition:a.condition,paint:a.paint,idea:a.idea,vote:a.vote,ImgUrl:a.ImgUrl,status:a.status})}),this.data=t},getAll(){xe.getAll().on("value",this.onDataChange)},getPoint(){this.item.point=(1*(this.item.condition+this.item.paint+this.item.idea)+this.item.vote)/4}},mounted(){this.getAll()}},Te=Se,Ue=(a("c4a6"),Object(o["a"])(Te,De,Ae,!1,null,"0d980e54",null)),Fe=Ue.exports,Ge=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"set-left"},[t("router-link",{attrs:{to:"/gundamnew/add-group-reward1"}},[t("el-button",{attrs:{type:"primary",icon:"el-icon-edit"}},[e._v("Thêm")])],1)],1),t("el-table",{staticStyle:{width:"fit-content"},attrs:{data:e.data,height:"600px"}},[t("el-table-column",{attrs:{prop:"id",label:"ID",width:"120"}}),t("el-table-column",{attrs:{prop:"name",label:"Giải",width:"120"}}),t("el-table-column",{attrs:{prop:"ImgUrl",label:"Hình",width:"300",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[t("img",{staticClass:"img",attrs:{src:e.row.ImgUrl,alt:""}})]}}])}),t("el-table-column",{attrs:{fixed:"right",width:"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"small"},on:{click:function(t){return e.prepareDelete(a.row.id)}}},[e._v("Xóa")])]}}])})],1),t("el-dialog",{attrs:{title:"Cảnh báo",visible:e.dialogDelete,width:"30%"},on:{"update:visible":function(t){e.dialogDelete=t}}},[t("span",[e._v("Bạn có muốn xóa sản phẩm này?!")]),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogDelete=!1}}},[e._v("Không")]),t("el-button",{attrs:{type:"danger"},on:{click:e.handleDelete}},[e._v("Có")])],1)])],1)},je=[];const Re=G.ref("/GReward");class Oe{getAll(){return Re}create(e){return Re.push(e)}update(e,t){return Re.child(e).update(t)}delete(e){return Re.child(e).remove()}deleteAll(){return Re.remove()}}var He=new Oe,Ve={data(){return{data:[],dialogDelete:!1,deleteItem:null}},methods:{getAll(){He.getAll().on("value",this.onDataChange)},onDataChange(e){let t=[];e.forEach(e=>{let a=e.val();t.push({id:a.id,name:a.name,ImgUrl:a.ImgUrl})}),this.data=t},prepareDelete(e){this.dialogDelete=!0,this.deleteItem=e},handleDelete(){null!=this.deleteItem&&(this.dialogDelete=!0,He.delete(this.deleteItem).then(()=>{this.dialogDelete=!1,this.$notify({title:"Hoàn tất",message:"Xóa thành công",type:"success"}),this.getAll(),this.deleteItem=null}).catch(e=>{this.$notify.error({title:"Lỗi",message:e})}))}},mounted(){this.getAll()}},We=Ve,Pe=(a("1f81"),Object(o["a"])(We,Ge,je,!1,null,"3ce193a4",null)),Ee=Pe.exports,qe=function(){var e=this,t=e._self._c;return t("div",{staticClass:"wrap"},[t("el-form",{ref:"item",attrs:{model:e.item,rules:e.rules}},[t("el-form-item",{attrs:{label:"Mã Số",prop:"code","label-width":e.formLabelWidth}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.item.code,callback:function(t){e.$set(e.item,"code",e._n(t))},expression:"item.code"}})],1),t("el-form-item",{attrs:{label:"Giải",prop:"name","label-width":e.formLabelWidth}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.item.name,callback:function(t){e.$set(e.item,"name",e._n(t))},expression:"item.name"}})],1),t("el-form-item",{attrs:{label:"Hình ảnh","label-width":e.formLabelWidth}},[t("div",{staticClass:"wrapper-img"},[e.image_upload?t("img",{attrs:{src:e.image_upload,alt:""}}):t("img",{attrs:{src:a("57ec")}}),t("input",{ref:"upload",staticClass:"file-upload",attrs:{accept:"image/jpeg",type:"file",id:"fileupload-slide"},on:{change:e.showImg}})])]),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("item")}}},[e._v("Tạo")]),t("el-button",{on:{click:function(t){return e.resetForm("item")}}},[e._v("Reset")])],1)],1)],1)},Be=[],Me={data(){return{data:[],image_upload:"",item:{id:null,code:null,name:0,ImgUrl:""},rules:{name:[{type:"number",message:"Vui lòng nhập số"}],code:[{required:!0,message:"Vui lòng Mã Số"},{type:"number",message:"Vui lòng nhập số"}]},formLabelWidth:"120px"}},methods:{async submitForm(e){this.$refs.upload.files[0]&&this.image_upload?(await this.uploadImage(),await this.$refs[e].validate(e=>{if(!e)return console.log("error submit!!"),!1;var t=Object.values(this.data);0!==t.length?this.item.id=t[t.length-1].id+1:this.item.id=1,He.update(this.item.id,this.item).then(()=>{this.$notify({title:"Hoàn tất",message:"Lưu thành công",type:"success"}),this.resetForm("item")}).catch(e=>{this.$notify.error({title:"Lỗi",message:e})})})):this.$notify.error({title:"Lỗi",message:"Chưa nhập hình"})},async uploadImage(){let e=this.$refs.upload.files[0];const t={contentType:e.type},a=N.ref("gr-reward/"),l=a.child(e.name);await l.put(e,t);const i=await l.getDownloadURL();this.item.ImgUrl=i},resetForm(e){this.$refs[e].resetFields(),this.$refs.upload.value="",this.image_upload=""},showImg(e){this.image_upload=URL.createObjectURL(e.target.files[0])},onDataChange(e){let t=[];e.forEach(e=>{let a=e.val();t.push({id:a.id,code:a.code,name:a.name,ImgUrl:a.ImgUrl})}),this.data=t},getAll(){He.getAll().on("value",this.onDataChange)}},mounted(){this.getAll()}},ze=Me,Ne=(a("3f39"),Object(o["a"])(ze,qe,Be,!1,null,"1319f000",null)),Xe=Ne.exports,Ke=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"form-raffle"},[t("el-form",{ref:"raffleForm",attrs:{model:e.data,rules:e.rules,"label-width":"120px"}},[t("el-form-item",{attrs:{label:"Tọa độ X 1",prop:"xdata1"}},[t("el-input",{model:{value:e.data.xdata1,callback:function(t){e.$set(e.data,"xdata1",t)},expression:"data.xdata1"}})],1),t("el-form-item",{attrs:{label:"Tọa độ Y 1",prop:"ydata1"}},[t("el-input",{model:{value:e.data.ydata1,callback:function(t){e.$set(e.data,"ydata1",t)},expression:"data.ydata1"}})],1),t("el-form-item",{attrs:{label:"Tọa độ X 2",prop:"xdata2"}},[t("el-input",{model:{value:e.data.xdata2,callback:function(t){e.$set(e.data,"xdata2",t)},expression:"data.xdata2"}})],1),t("el-form-item",{attrs:{label:"Tọa độ Y 2",prop:"ydata2"}},[t("el-input",{model:{value:e.data.ydata2,callback:function(t){e.$set(e.data,"ydata2",t)},expression:"data.ydata2"}})],1),t("el-form-item",{attrs:{label:"Font Size",prop:"size"}},[t("el-input",{model:{value:e.data.size,callback:function(t){e.$set(e.data,"size",t)},expression:"data.size"}})],1),t("el-form-item",{attrs:{label:"Chọn khoản"}},[t("el-col",{attrs:{span:11}},[t("el-form-item",{attrs:{label:"Từ",prop:"to"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.data.to,callback:function(t){e.$set(e.data,"to",e._n(t))},expression:"data.to"}})],1)],1),t("el-col",{staticClass:"line",attrs:{span:2}},[e._v("-")]),t("el-col",{attrs:{span:11}},[t("el-form-item",{attrs:{label:"Đến",prop:"from"}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.data.from,callback:function(t){e.$set(e.data,"from",e._n(t))},expression:"data.from"}})],1)],1)],1),t("el-form-item",{attrs:{label:"Màu sắc",prop:"colorText"}},[t("span",{staticClass:"demonstration"},[e._v(e._s(e.data.colorText))]),t("el-color-picker",{model:{value:e.data.colorText,callback:function(t){e.$set(e.data,"colorText",t)},expression:"data.colorText"}})],1),t("el-form-item",{attrs:{label:"Hình ảnh"}},[t("div",{staticClass:"wrapper-img"},[t("img",{attrs:{src:a("57ec")}}),t("input",{ref:"upload",staticClass:"file-upload",attrs:{accept:"image/jpeg",type:"file",id:"fileupload-slide"},on:{change:e.showImg}})])]),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("raffleForm")}}},[e._v("Tạo")]),t("el-button",{on:{click:function(t){return e.resetForm("raffleForm")}}},[e._v("Reset")])],1)],1)],1),t("br"),t("br"),t("div",{ref:"capture",staticClass:"image-container"},[e.image_upload?t("img",{attrs:{src:e.image_upload,alt:""}}):t("img",{attrs:{src:a("039d"),alt:"Raffle"}}),t("div",{staticClass:"number-overlay",style:{top:e.data.xdata1+"px",left:e.data.ydata1+"px",color:e.data.colorText,fontSize:e.data.size+"px"}},[e._v(" "+e._s(e.currentNumber)+" ")]),t("div",{staticClass:"number-overlay",style:{top:e.data.xdata2+"px",left:e.data.ydata2+"px",color:e.data.colorText,fontSize:e.data.size+"px"}},[e._v(" "+e._s(e.currentNumber)+" ")])])])},Ye=[],Je=a("c0e9"),Qe=a.n(Je),Ze={data(){return{currentNumber:"01",image_upload:"",data:{to:1,from:50,colorText:"",xdata1:160,ydata1:514,xdata2:160,ydata2:914,size:35},rules:{to:[{required:!0,message:"Từ số là bắt buộc",trigger:"blur"}],from:[{required:!0,message:"Đến số là bắt buộc",trigger:"blur"}],colorText:[{required:!0,message:"Màu sắc là bắt buộc",trigger:"change"}],xdata1:[{required:!0,message:"X1 số là bắt buộc",trigger:"blur"}],ydata1:[{required:!0,message:"Y1 số là bắt buộc",trigger:"blur"}],xdata2:[{required:!0,message:"X2 số là bắt buộc",trigger:"blur"}],ydata2:[{required:!0,message:"Y2 số là bắt buộc",trigger:"blur"}],size:[{required:!0,message:"Size số là bắt buộc",trigger:"blur"}]}}},methods:{async captureImages(){for(let e=this.data.to;e<=this.data.from;e++){this.currentNumber=e,await this.$nextTick();const t=await Qe()(this.$refs.capture),a=document.createElement("a");a.download=`raffle_with_number_${e}.jpeg`,a.href=t.toDataURL("image/jpeg",.9),a.click()}},showImg(e){this.image_upload=URL.createObjectURL(e.target.files[0])},resetForm(e){this.$refs[e].resetFields()},submitForm(e){this.$refs.upload.files[0]&&this.image_upload?this.$refs[e].validate(e=>{if(!e)return!1;this.captureImages()}):this.$notify.error({title:"Lỗi",message:"Chưa nhập hình"})}}},et=Ze,tt=(a("7340"),Object(o["a"])(et,Ke,Ye,!1,null,"55f6ac08",null)),at=tt.exports,lt=function(){var e=this,t=e._self._c;return t("div",[t("div",[e.image_upload?t("img",{ref:"image",attrs:{src:e.image_upload,alt:""},on:{click:e.getCoordinates}}):t("img",{attrs:{src:a("57ec")}})]),t("input",{ref:"upload",attrs:{accept:"image/jpeg",type:"file"},on:{change:e.showImg}}),t("p",[e._v("X: "+e._s(e.x))]),t("p",[e._v("Y: "+e._s(e.y))])])},it=[],nt={data(){return{image_upload:null,x:0,y:0}},methods:{showImg(e){this.image_upload=URL.createObjectURL(e.target.files[0])},getCoordinates(e){const t=this.$refs.image.getBoundingClientRect();this.x=e.clientX-t.left,this.y=e.clientY-t.top}}},rt=nt,st=Object(o["a"])(rt,lt,it,!1,null,null,null),ot=st.exports;l["default"].use(d["a"]);const ut=new d["a"]({mode:"history",routes:[{path:"/gundamnew",component:x,meta:{text:"Menu"},children:[{path:"/gundamnew/title",component:P,meta:{text:"Tiêu đề đề"},name:"title"},{path:"/gundamnew/list-new",component:J,meta:{text:"Hàng Sắp Về"},name:"list-new-product"},{path:"/gundamnew/new-product",component:le,meta:{text:"Thêm Mới Hàng Sắp Về"},name:"add-new-product"},{path:"/gundamnew/add-product",component:me,meta:{text:"Thêm Sản Phẩm"},name:"add-product"},{path:"/gundamnew",component:ve,meta:{text:"Danh Sách Sản Phẩm"},name:"list-product"},{path:"/gundamnew/group-reward",component:$e,meta:{text:"Danh Sách Giải Thưởng Offine"},name:"reward"},{path:"/gundamnew/add-group-reward",component:Fe,meta:{text:"Thêm Giải Thưởng Offine"},name:"add-reward"},{path:"/gundamnew/group-reward1",component:Ee,meta:{text:"Danh Sách Giải Thưởng Group"},name:"group-reward"},{path:"/gundamnew/add-group-reward1",component:Xe,meta:{text:"Thêm Giải Thưởng Group"},name:"group-reward1"},{path:"/gundamnew/raffle",component:at,meta:{text:"Raffle"},name:"raffle"},{path:"/gundamnew/location",component:ot,meta:{text:"Get Location"},name:"getLocation"}]},{path:"gundamnew/404",name:"errorpage",component:A}]});var ct=ut,dt=a("5c96"),mt=a.n(dt),pt=(a("0fae"),a("4b0a")),ht=a.n(pt);l["default"].config.productionTip=!1,l["default"].use(mt.a,{locale:ht.a}),new l["default"]({router:ct,render:e=>e(c)}).$mount("#app")},"57ec":function(e,t,a){e.exports=a.p+"img/empty-img.7c125e10.png"},"5b04":function(e,t,a){},"5c1e":function(e,t,a){},6957:function(e,t,a){"use strict";a("a177")},"6af4":function(e,t,a){"use strict";a("8cfe")},"725d":function(e,t,a){"use strict";a("e6a6")},7340:function(e,t,a){"use strict";a("972f")},8878:function(e,t,a){},"8cfe":function(e,t,a){},"91a8":function(e,t,a){"use strict";a("454e")},"972f":function(e,t,a){},a177:function(e,t,a){},acb3:function(e,t,a){},b87f:function(e,t,a){"use strict";a("bd89")},bd89:function(e,t,a){},c3aa:function(e,t,a){},c4a6:function(e,t,a){"use strict";a("c3aa")},c8e9:function(e,t,a){},e201:function(e,t,a){"use strict";a("c8e9")},e44d:function(e,t,a){"use strict";a("acb3")},e6a6:function(e,t,a){}});
//# sourceMappingURL=app.83a4e57b.js.map