(function(t){function e(e){for(var l,n,r=e[0],o=e[1],u=e[2],d=0,m=[];d<r.length;d++)n=r[d],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&m.push(i[n][0]),i[n]=0;for(l in o)Object.prototype.hasOwnProperty.call(o,l)&&(t[l]=o[l]);c&&c(e);while(m.length)m.shift()();return s.push.apply(s,u||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],l=!0,r=1;r<a.length;r++){var o=a[r];0!==i[o]&&(l=!1)}l&&(s.splice(e--,1),t=n(n.s=a[0]))}return t}var l={},i={app:0},s=[];function n(e){if(l[e])return l[e].exports;var a=l[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=l,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var l in t)n.d(a,l,function(e){return t[e]}.bind(null,l));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/gundamnew/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],o=r.push.bind(r);r.push=e,r=r.slice();for(var u=0;u<r.length;u++)e(r[u]);var c=o;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0fa5":function(t,e,a){},1543:function(t,e,a){},"1f8d":function(t,e,a){"use strict";a("1543")},"23b9":function(t,e,a){},"31c7":function(t,e,a){},3513:function(t,e,a){"use strict";a("8b7e")},4311:function(t,e,a){"use strict";a("31c7")},"56d7":function(t,e,a){"use strict";a.r(e);var l=a("2b0e"),i=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},s=[],n={name:"App"},r=n,o=(a("6af4"),a("2877")),u=Object(o["a"])(r,i,s,!1,null,null,null),c=u.exports,d=a("8c4f"),m=function(){var t=this,e=t._self._c;return e("el-container",{staticStyle:{height:"100vh"}},[e("Nav"),e("el-container",[e("el-header",{staticClass:"custom-header",staticStyle:{"text-align":"right","font-size":"12px"}},[e("el-divider",{staticClass:"unset-margin"}),e("el-breadcrumb",{staticClass:"custom-breadcrumb",attrs:{separator:"/"}},t._l(t.$route.matched,(function(a){return e("el-breadcrumb-item",{key:a.id},[t._v(" "+t._s(a.meta.text)+" ")])})),1)],1),e("el-main",[e("router-view")],1)],1)],1)},p=[],h=function(){var t=this,e=t._self._c;return e("el-aside",{staticStyle:{"background-color":"rgb(238, 241, 246)"},attrs:{width:"250px"}},[e("el-menu",{staticClass:"el-menu-vertical",attrs:{"default-openeds":["1","2"],"background-color":"#303c54","text-color":"#fff","active-text-color":"#ffd04b"}},[e("div",{staticClass:"name-web"},[e("h5",[t._v("GundamBienHoa")])]),e("el-submenu",{attrs:{index:"1"}},[e("template",{slot:"title"},[e("i",{staticClass:"el-icon-box"}),t._v("Sản phẩm")]),e("el-menu-item-group",[e("template",{slot:"title"},[t._v("Sản phẩm có sẵn")]),e("router-link",{attrs:{to:"gundamnew//list-product"}},[e("el-menu-item",{attrs:{index:"1-1"}},[t._v("Danh sách")])],1),e("router-link",{attrs:{to:"gundamnew//add-product"}},[e("el-menu-item",{attrs:{index:"1-2"}},[t._v("Thêm mới")])],1)],2),e("el-menu-item-group",[e("template",{slot:"title"},[t._v("Sản phẩm đặt trước")]),e("router-link",{attrs:{to:"gundamnew//list-new"}},[e("el-menu-item",{attrs:{index:"1-3"}},[t._v("Danh sách")])],1),e("router-link",{attrs:{to:"gundamnew//new-product"}},[e("el-menu-item",{attrs:{index:"1-4"}},[t._v("Thêm mới")])],1)],2)],2),e("router-link",{attrs:{to:"gundamnew//title"}},[e("el-menu-item",{attrs:{index:"2"}},[e("i",{staticClass:"el-icon-document"}),t._v("Tiêu đề ")])],1)],1)],1)},g=[],f={},b=f,y=(a("b8b8"),Object(o["a"])(b,h,g,!1,null,null,null)),v=y.exports,w={data(){const t={date:"2016-05-02",name:"Tom",address:"No. 189, Grove St, Los Angeles"};return{tableData:Array(20).fill(t)}},components:{Nav:v}},_=w,k=(a("ba9c"),Object(o["a"])(_,m,p,!1,null,null,null)),I=k.exports,L=function(){var t=this;t._self._c;return t._m(0)},x=[function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"notfound"}},[e("div",{staticClass:"notfound"},[e("div",{staticClass:"notfound-404"},[e("h1",[t._v("4"),e("span",[t._v("0")]),t._v("4")])]),e("h2",[t._v("Trang này không tồn tại")])])])}],C={mounted(){this.backhome()},methods:{backhome(){setTimeout(()=>{this.$router.go(-1)},2e3)}}},$=C,A=(a("4311"),Object(o["a"])($,L,x,!1,null,"5ecfb9f8",null)),D=A.exports,S=function(){var t=this,e=t._self._c;return e("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"120px"}},[e("el-form-item",{attrs:{label:"Tựa đề",prop:"title"}},[e("el-input",{model:{value:t.ruleForm.title,callback:function(e){t.$set(t.ruleForm,"title",e)},expression:"ruleForm.title"}})],1),e("el-form-item",{staticClass:"overwrite-left"},[e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("Lưu")])],1)],1)},U=[],T=(a("14d9"),a("8aa5"));a("66ce");const j={apiKey:"AIzaSyAzkLWAjcgySqf46yRmFGJvnUfIhN9Vd-g",authDomain:"gundambienhoa-4c350.firebaseapp.com",databaseURL:"https://gundambienhoa-4c350-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"gundambienhoa-4c350",storageBucket:"gundambienhoa-4c350.appspot.com",messagingSenderId:"800213288761",appId:"1:800213288761:web:f1693c911bdaf446a98ae8",measurementId:"G-5YKC8P4X68"};T["initializeApp"](j);var O=T["database"]();const F=O.ref("/Title");class G{getAll(){return F}create(t){return F.push(t)}update(t,e){return F.child(t).update(e)}delete(t){return F.child(t).remove()}deleteAll(){return F.remove()}}var H=new G,E={name:"title",data(){return{ruleForm:{title:""},rules:{title:[{required:!0,message:"Vui lòng nhập tựa đề",trigger:"blur"}]}}},methods:{onDataChange(t){let e=[];t.forEach(t=>{let a=t.val();e.push({mess:a})}),this.ruleForm.title=e[0].mess},submitForm(t){this.$refs[t].validate(t=>{if(!t)return console.log("error submit!!"),!1;var e={mess:this.ruleForm.title};console.log(e),H.update("/",e).then(()=>{this.$notify({title:"Hoàn tất",message:"Lưu thành công",type:"success"})}).catch(t=>{this.$notify.error({title:"Lỗi",message:t})})})}},mounted(){H.getAll().on("value",this.onDataChange)}},W=E,R=(a("3513"),Object(o["a"])(W,S,U,!1,null,null,null)),V=R.exports,P=function(){var t=this,e=t._self._c;return e("div",[e("el-row",{staticClass:"button-overwrite"},[e("el-button",{staticClass:"el-icon-refresh",attrs:{type:"primary"}},[t._v(" Reload")]),e("el-button",{staticClass:"el-icon-circle-close",attrs:{type:"danger"},on:{click:t.removeAll}},[t._v(" Xóa hết")])],1),e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.data,height:"500"}},[e("el-table-column",{attrs:{prop:"id",label:"ID",width:"120"}}),e("el-table-column",{attrs:{prop:"name",label:"Tên",width:"120"}}),e("el-table-column",{attrs:{prop:"ImgUrl",label:"Hình",width:"300",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[e("img",{staticClass:"img",attrs:{src:t.row.ImgUrl,alt:""}})]}}])}),e("el-table-column",{attrs:{prop:"price",label:"Giá",width:"120"}}),e("el-table-column",{attrs:{prop:"deposit",label:"Đặt cọc"}}),e("el-table-column",{attrs:{prop:"status",label:"Trạng thái"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",[t._v(t._s(a.row.status?"Còn hàng":"Hết Hàng"))])]}}])}),e("el-table-column",{attrs:{fixed:"right",label:"Thao tác",width:"200"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"small"},on:{click:function(e){return t.prepareDelete(a.row.id)}}},[t._v("Xóa")]),e("el-button",{attrs:{type:"info",size:"small",icon:"el-icon-edit"},on:{click:function(e){return t.updateRow(a.row)}}},[t._v("Sửa")])]}}])})],1),e("el-dialog",{attrs:{title:"Cảnh báo",visible:t.dialogDelete,width:"30%"},on:{"update:visible":function(e){t.dialogDelete=e}}},[e("span",[t._v("Bạn có muốn xóa sản phẩm này?!")]),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.dialogDelete=!1}}},[t._v("Không")]),e("el-button",{attrs:{type:"danger"},on:{click:t.handleDelete}},[t._v("Có")])],1)]),e("el-dialog",{attrs:{title:"Chỉnh sửa",visible:t.dialogEdit},on:{"update:visible":function(e){t.dialogEdit=e}}},[e("el-form",{ref:"update",attrs:{model:t.update,rules:t.rules}},[e("el-form-item",{attrs:{label:"Tên",prop:"name","label-width":t.formLabelWidth}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:t.update.name,callback:function(e){t.$set(t.update,"name",e)},expression:"update.name"}})],1),e("el-form-item",{attrs:{label:"Giá",prop:"price","label-width":t.formLabelWidth}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:t.update.price,callback:function(e){t.$set(t.update,"price",t._n(e))},expression:"update.price"}})],1),e("el-form-item",{attrs:{label:"Giá cọc",prop:"deposit","label-width":t.formLabelWidth}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:t.update.deposit,callback:function(e){t.$set(t.update,"deposit",t._n(e))},expression:"update.deposit"}})],1),e("el-form-item",{attrs:{label:"Hình ảnh","label-width":t.formLabelWidth}},[e("div",{staticClass:"wrapper-img"},[t.image_upload?e("img",{attrs:{src:t.image_upload,alt:""}}):e("img",{attrs:{src:a("57ec")}}),e("input",{ref:"upload",staticClass:"file-upload",attrs:{accept:"image/jpeg",type:"file",id:"fileupload-slide"},on:{change:t.showImg}})])]),e("el-form-item",{attrs:{label:"Trạng thái",prop:"status","label-width":t.formLabelWidth}},[e("el-switch",{model:{value:t.update.status,callback:function(e){t.$set(t.update,"status",e)},expression:"update.status"}})],1)],1),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.dialogEdit=!1}}},[t._v("Hủy Bỏ")]),e("el-button",{attrs:{type:"primary"},on:{click:t.edit}},[t._v("Ghi")])],1)],1)],1)},B=[];const M=O.ref("/Gundams");class q{getAll(){return M}create(t){return M.push(t)}update(t,e){return M.child(t).update(e)}delete(t){return M.child(t).remove()}deleteAll(){return M.remove()}}var N=new q;a("588e");const X=T["storage"]();var z={name:"tutorials-list",data(){return{data:[],dialogDelete:!1,deleteItem:null,dialogEdit:!1,image_upload:"",update:{ImgUrl:"",deposit:null,id:null,name:"",price:null,status:!0},rules:{name:[{required:!0,message:"Vui lòng nhập tên sản phẩm",trigger:"blur"}],price:[{required:!0,message:"Vui lòng nhập giá"},{type:"number",message:"Vui lòng nhập số"}],deposit:[{required:!0,message:"Vui lòng nhập giá"},{type:"number",message:"Vui lòng nhập số"}]},formLabelWidth:"120px"}},methods:{handleDelete(){null!=this.deleteItem&&(this.dialogDelete=!0,N.delete(this.deleteItem).then(()=>{this.dialogDelete=!1,this.$notify({title:"Hoàn tất",message:"Xóa thành công",type:"success"}),this.getAll(),this.deleteItem=null}).catch(t=>{this.$notify.error({title:"Lỗi",message:t})}))},prepareDelete(t){this.dialogDelete=!0,this.deleteItem=t},onDataChange(t){let e=[];t.forEach(t=>{let a=t.val();e.push({ImgUrl:a.ImgUrl,deposit:a.deposit,id:a.id,name:a.name,price:a.price,status:a.status})}),this.data=e},async edit(){this.$refs.upload.files[0]&&this.image_upload?(await this.uploadImage(),await this.$refs["update"].validate(t=>{if(!t)return console.log("error submit!!"),!1;N.update(this.update.id,this.update).then(()=>{this.dialogEdit=!1,this.$notify({title:"Hoàn tất",message:"Sửa thành công",type:"success"})}).catch(t=>{this.$notify.error({title:"Lỗi",message:t})})})):this.$notify.error({title:"Lỗi",message:"Chưa nhập hình"})},updateRow(t){this.update.deposit=t.deposit,this.update.id=t.id,this.update.name=t.name,this.update.price=t.price,this.update.status=t.status,this.update.ImgUrl=t.ImgUrl,this.image_upload=t.ImgUrl,this.dialogEdit=!0},removeAll(){N.deleteAll().then(()=>{this.$notify({title:"Hoàn tất",message:"Xóa thành công",type:"success"}),this.getAll()}).catch(t=>{this.$notify.error({title:"Lỗi",message:t})})},showImg(t){this.image_upload=URL.createObjectURL(t.target.files[0])},async uploadImage(){let t=this.$refs.upload.files[0];const e={contentType:t.type},a=X.ref("Images/"),l=a.child(t.name);await l.put(t,e);const i=await l.getDownloadURL();this.update.ImgUrl=i},getAll(){N.getAll().on("value",this.onDataChange)}},mounted(){this.getAll()},beforeDestroy(){N.getAll().off("value",this.onDataChange)}},K=z,J=(a("8849"),Object(o["a"])(K,P,B,!1,null,null,null)),Y=J.exports,Q=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wrap"},[e("el-form",{ref:"item",attrs:{model:t.item,rules:t.rules}},[e("el-form-item",{attrs:{label:"Tên",prop:"name","label-width":t.formLabelWidth}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:t.item.name,callback:function(e){t.$set(t.item,"name",e)},expression:"item.name"}})],1),e("el-form-item",{attrs:{label:"Giá",prop:"price","label-width":t.formLabelWidth}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:t.item.price,callback:function(e){t.$set(t.item,"price",t._n(e))},expression:"item.price"}})],1),e("el-form-item",{attrs:{label:"Giá cọc",prop:"deposit","label-width":t.formLabelWidth}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:t.item.deposit,callback:function(e){t.$set(t.item,"deposit",t._n(e))},expression:"item.deposit"}})],1),e("el-form-item",{attrs:{label:"Hình ảnh","label-width":t.formLabelWidth}},[e("div",{staticClass:"wrapper-img"},[t.image_upload?e("img",{attrs:{src:t.image_upload,alt:""}}):e("img",{attrs:{src:a("57ec")}}),e("input",{ref:"upload",staticClass:"file-upload",attrs:{accept:"image/jpeg",type:"file",id:"fileupload-slide"},on:{change:t.showImg}})])]),e("el-form-item",{attrs:{label:"Trạng thái",prop:"status","label-width":t.formLabelWidth}},[e("el-switch",{model:{value:t.item.status,callback:function(e){t.$set(t.item,"status",e)},expression:"item.status"}})],1),e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("item")}}},[t._v("Tạo")]),e("el-button",{on:{click:function(e){return t.resetForm("item")}}},[t._v("Reset")])],1)],1)],1)},Z=[],tt={data(){return{data:[],image_upload:"",item:{ImgUrl:"",deposit:null,id:null,name:"",price:null,status:!0},rules:{name:[{required:!0,message:"Vui lòng nhập tên sản phẩm",trigger:"blur"}],price:[{required:!0,message:"Vui lòng nhập giá"},{type:"number",message:"Vui lòng nhập số"}],deposit:[{required:!0,message:"Vui lòng nhập giá"},{type:"number",message:"Vui lòng nhập số"}]},formLabelWidth:"120px"}},methods:{async submitForm(t){this.$refs.upload.files[0]&&this.image_upload?(await this.uploadImage(),await this.$refs[t].validate(t=>{if(!t)return!1;var e=Object.values(this.data);0!==e.length?this.item.id=e[e.length-1].id+1:this.item.id=1,N.update(this.item.id,this.item).then(()=>{this.$notify({title:"Hoàn tất",message:"Lưu thành công",type:"success"}),this.resetForm("item")}).catch(t=>{this.$notify.error({title:"Lỗi",message:t})})})):this.$notify.error({title:"Lỗi",message:"Chưa nhập hình"})},resetForm(t){this.$refs[t].resetFields(),this.$refs.upload.value=null,this.image_upload=""},onDataChange(t){let e=[];t.forEach(t=>{let a=t.val();e.push({ImgUrl:a.ImgUrl,deposit:a.deposit,id:a.id,name:a.name,price:a.price,status:a.status})}),this.data=e},showImg(t){this.image_upload=URL.createObjectURL(t.target.files[0])},async uploadImage(){let t=this.$refs.upload.files[0];const e={contentType:t.type},a=X.ref("Images/"),l=a.child(t.name);await l.put(t,e);const i=await l.getDownloadURL();this.item.ImgUrl=i},getAll(){N.getAll().on("value",this.onDataChange)}},mounted(){this.getAll()}},et=tt,at=(a("1f8d"),Object(o["a"])(et,Q,Z,!1,null,"19895f51",null)),lt=at.exports,it=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wrap"},[e("el-form",{ref:"item",attrs:{model:t.item,rules:t.rules}},[e("el-form-item",{attrs:{label:"Tên",prop:"name","label-width":t.formLabelWidth}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:t.item.name,callback:function(e){t.$set(t.item,"name",e)},expression:"item.name"}})],1),e("el-form-item",{attrs:{label:"Giá",prop:"price","label-width":t.formLabelWidth}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:t.item.price,callback:function(e){t.$set(t.item,"price",t._n(e))},expression:"item.price"}})],1),e("el-form-item",{staticClass:"left",attrs:{label:"Loại Sản Phẩm",prop:"category","label-width":t.formLabelWidth}},[e("el-select",{attrs:{placeholder:"Loại Sản Phẩm"},model:{value:t.item.category,callback:function(e){t.$set(t.item,"category",e)},expression:"item.category"}},t._l(t.category,(function(t){return e("el-option",{key:t.key,attrs:{label:t.content,value:t.key}})})),1)],1),e("el-form-item",{attrs:{label:"Hình ảnh","label-width":t.formLabelWidth}},[e("div",{staticClass:"wrapper-img"},[t.image_upload?e("img",{attrs:{src:t.image_upload,alt:""}}):e("img",{attrs:{src:a("57ec")}}),e("input",{ref:"upload",staticClass:"file-upload",attrs:{accept:"image/jpeg",type:"file",id:"fileupload-slide"},on:{change:t.showImg}})])]),e("el-form-item",{attrs:{label:"Còn hàng",prop:"status","label-width":t.formLabelWidth}},[e("el-switch",{model:{value:t.item.status,callback:function(e){t.$set(t.item,"status",e)},expression:"item.status"}})],1),e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("item")}}},[t._v("Tạo")]),e("el-button",{on:{click:function(e){return t.resetForm("item")}}},[t._v("Reset")])],1)],1)],1)},st=[];const nt=O.ref("/Product");class rt{getAll(){return nt}create(t){return nt.push(t)}update(t,e){return nt.child(t).update(e)}delete(t){return nt.child(t).remove()}deleteAll(){return nt.remove()}}var ot=new rt,ut={data(){return{category:[{key:"mg",content:"1/100, MG, MEGA, PG"},{key:"rg",content:"RG BANDAI"},{key:"hg",content:"HG/EG BANDAI"},{key:"sd",content:"SD BANDAI"},{key:"ff",content:"Figure- figure rise"},{key:"30mm",content:"30MM/ 30MS"},{key:"kobu",content:"KotobukiYA"},{key:"pokemon",content:"POKEPLA"},{key:"candytoys",content:"candytoys, shokugan, orther"},{key:"base",content:"BASE, BUild customs"},{key:"tools",content:"Tools"}],data:[],image_upload:"",item:{ImgUrl:"",category:null,id:null,name:"",price:null,status:!0},rules:{name:[{required:!0,message:"Vui lòng nhập tên sản phẩm",trigger:"blur"}],price:[{required:!0,message:"Vui lòng nhập giá"},{type:"number",message:"Vui lòng nhập số"}],category:[{required:!0,message:"Vui lòng chọn loại sản phẩm",trigger:"change"}]},formLabelWidth:"120px"}},methods:{async submitForm(t){this.$refs.upload.files[0]&&this.image_upload?(await this.uploadImage(),await this.$refs[t].validate(t=>{if(!t)return console.log("error submit!!"),!1;var e=Object.values(this.data);0!==e.length?this.item.id=e[e.length-1].id+1:this.item.id=1,ot.update(this.item.id,this.item).then(()=>{this.$notify({title:"Hoàn tất",message:"Lưu thành công",type:"success"}),this.resetForm("item")}).catch(t=>{this.$notify.error({title:"Lỗi",message:t})})})):this.$notify.error({title:"Lỗi",message:"Chưa nhập hình"})},async uploadImage(){let t=this.$refs.upload.files[0];const e={contentType:t.type},a=X.ref("sanpham/"),l=a.child(t.name);await l.put(t,e);const i=await l.getDownloadURL();this.item.ImgUrl=i},resetForm(t){this.$refs[t].resetFields(),this.$refs.upload.value="",this.image_upload=""},showImg(t){this.image_upload=URL.createObjectURL(t.target.files[0])},onDataChange(t){let e=[];t.forEach(t=>{let a=t.val();e.push({ImgUrl:a.ImgUrl,category:a.category,id:a.id,name:a.name,price:a.price,status:a.status})}),this.data=e},getAll(){ot.getAll().on("value",this.onDataChange)}},mounted(){this.getAll()}},ct=ut,dt=(a("725d"),Object(o["a"])(ct,it,st,!1,null,"1659a474",null)),mt=dt.exports,pt=function(){var t=this,e=t._self._c;return e("div",[e("el-row",{staticClass:"button-overwrite"},[e("el-button",{staticClass:"el-icon-refresh",attrs:{type:"primary"}},[t._v(" Reload")]),e("el-button",{staticClass:"el-icon-circle-close",attrs:{type:"danger"},on:{click:t.removeAll}},[t._v(" Xóa hết")])],1),e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.data,height:"500"}},[e("el-table-column",{attrs:{prop:"id",label:"ID",width:"120"}}),e("el-table-column",{attrs:{prop:"name",label:"Tên",width:"120"}}),e("el-table-column",{attrs:{prop:"ImgUrl",label:"Hình",width:"300",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[e("img",{staticClass:"img",attrs:{src:t.row.ImgUrl,alt:""}})]}}])}),e("el-table-column",{attrs:{prop:"price",label:"Giá",width:"120"}}),e("el-table-column",{attrs:{prop:"category",label:"Loại",width:"200"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",[t._v(t._s(t.category.find(t=>t.key===a.row.category).content))])]}}])}),e("el-table-column",{attrs:{prop:"status",label:"Trạng thái",width:"100"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",[t._v(t._s(a.row.status?"Còn hàng":"Hết Hàng"))])]}}])}),e("el-table-column",{attrs:{fixed:"right",label:"Thao tác",width:"200"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"small"},on:{click:function(e){return t.prepareDelete(a.row.id)}}},[t._v("Xóa")]),e("el-button",{attrs:{type:"info",size:"small",icon:"el-icon-edit"},on:{click:function(e){return t.updateRow(a.row)}}},[t._v("Sửa")])]}}])})],1),e("el-dialog",{attrs:{title:"Cảnh báo",visible:t.dialogDelete,width:"30%"},on:{"update:visible":function(e){t.dialogDelete=e}}},[e("span",[t._v("Bạn có muốn xóa sản phẩm này?!")]),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.dialogDelete=!1}}},[t._v("Không")]),e("el-button",{attrs:{type:"danger"},on:{click:t.handleDelete}},[t._v("Có")])],1)]),e("el-dialog",{attrs:{title:"Chỉnh sửa",visible:t.dialogEdit},on:{"update:visible":function(e){t.dialogEdit=e}}},[e("el-form",{ref:"update",attrs:{model:t.update,rules:t.rules}},[e("el-form-item",{attrs:{label:"Tên",prop:"name","label-width":t.formLabelWidth}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:t.update.name,callback:function(e){t.$set(t.update,"name",e)},expression:"update.name"}})],1),e("el-form-item",{attrs:{label:"Giá",prop:"price","label-width":t.formLabelWidth}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:t.update.price,callback:function(e){t.$set(t.update,"price",t._n(e))},expression:"update.price"}})],1),e("el-form-item",{staticClass:"left",attrs:{label:"Loại Sản Phẩm",prop:"category","label-width":t.formLabelWidth}},[e("el-select",{attrs:{placeholder:"Loại Sản Phẩm"},model:{value:t.update.category,callback:function(e){t.$set(t.update,"category",e)},expression:"update.category"}},t._l(t.category,(function(t){return e("el-option",{key:t.key,attrs:{label:t.content,value:t.key}})})),1)],1),e("el-form-item",{attrs:{label:"Hình ảnh","label-width":t.formLabelWidth}},[e("div",{staticClass:"wrapper-img"},[t.image_upload?e("img",{attrs:{src:t.image_upload,alt:""}}):e("img",{attrs:{src:a("57ec")}}),e("input",{ref:"upload",staticClass:"file-upload",attrs:{accept:"image/jpeg",type:"file",id:"fileupload-slide"},on:{change:t.showImg}})])]),e("el-form-item",{attrs:{label:"Trạng thái",prop:"status","label-width":t.formLabelWidth}},[e("el-switch",{model:{value:t.update.status,callback:function(e){t.$set(t.update,"status",e)},expression:"update.status"}})],1)],1),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.dialogEdit=!1}}},[t._v("Hủy Bỏ")]),e("el-button",{attrs:{type:"primary"},on:{click:t.edit}},[t._v("Ghi")])],1)],1)],1)},ht=[],gt={name:"tutorials-list",data(){return{data:[],dialogDelete:!1,deleteItem:null,dialogEdit:!1,image_upload:"",update:{ImgUrl:"",category:null,id:null,name:"",price:null,status:!0},category:[{key:"mg",content:"1/100, MG, MEGA, PG"},{key:"rg",content:"RG BANDAI"},{key:"hg",content:"HG/EG BANDAI"},{key:"sd",content:"SD BANDAI"},{key:"ff",content:"Figure- figure rise"},{key:"30mm",content:"30MM/ 30MS"},{key:"kobu",content:"KotobukiYA"},{key:"pokemon",content:"POKEPLA"},{key:"candytoys",content:"candytoys, shokugan, orther"},{key:"base",content:"BASE, BUild customs"},{key:"tools",content:"Tools"}],rules:{name:[{required:!0,message:"Vui lòng nhập tên sản phẩm",trigger:"blur"}],price:[{required:!0,message:"Vui lòng nhập giá"},{type:"number",message:"Vui lòng nhập số"}],category:[{required:!0,message:"Vui lòng chọn loại sản phẩm",trigger:"change"}]},formLabelWidth:"120px"}},methods:{handleDelete(){null!=this.deleteItem&&(this.dialogDelete=!0,ot.delete(this.deleteItem).then(()=>{this.dialogDelete=!1,this.$notify({title:"Hoàn tất",message:"Xóa thành công",type:"success"}),this.getAll(),this.deleteItem=null}).catch(t=>{this.$notify.error({title:"Lỗi",message:t})}))},prepareDelete(t){this.dialogDelete=!0,this.deleteItem=t},onDataChange(t){let e=[];t.forEach(t=>{let a=t.val();e.push({ImgUrl:a.ImgUrl,category:a.category,id:a.id,name:a.name,price:a.price,status:a.status})}),this.data=e},async edit(){this.$refs.upload.files[0]&&this.image_upload?(await this.uploadImage(),await this.$refs["update"].validate(t=>{if(!t)return console.log("error submit!!"),!1;ot.update(this.update.id,this.update).then(()=>{this.dialogEdit=!1,this.$notify({title:"Hoàn tất",message:"Sửa thành công",type:"success"})}).catch(t=>{this.$notify.error({title:"Lỗi",message:t})})})):this.$notify.error({title:"Lỗi",message:"Chưa nhập hình"})},updateRow(t){this.update.category=t.category,this.update.id=t.id,this.update.name=t.name,this.update.price=t.price,this.update.status=t.status,this.update.ImgUrl=t.ImgUrl,this.image_upload=t.ImgUrl,this.dialogEdit=!0},removeAll(){ot.deleteAll().then(()=>{this.$notify({title:"Hoàn tất",message:"Xóa thành công",type:"success"}),this.getAll()}).catch(t=>{this.$notify.error({title:"Lỗi",message:t})})},showImg(t){this.image_upload=URL.createObjectURL(t.target.files[0])},async uploadImage(){let t=this.$refs.upload.files[0];const e={contentType:t.type},a=X.ref("Images/"),l=a.child(t.name);await l.put(t,e);const i=await l.getDownloadURL();this.update.ImgUrl=i},getAll(){ot.getAll().on("value",this.onDataChange)}},mounted(){this.getAll()},beforeDestroy(){ot.getAll().off("value",this.onDataChange)}},ft=gt,bt=(a("6ed7"),Object(o["a"])(ft,pt,ht,!1,null,null,null)),yt=bt.exports;l["default"].use(d["a"]);const vt=new d["a"]({mode:"history",routes:[{path:"/",component:I,meta:{text:"Menu"},children:[{path:"title",component:V,meta:{text:"Tiêu đề đề"},name:"title"},{path:"list-new",component:Y,meta:{text:"Hàng Sắp Về"},name:"list-new-product"},{path:"new-product",component:lt,meta:{text:"Thêm Mới Hàng Sắp Về"},name:"add-new-product"},{path:"add-product",component:mt,meta:{text:"Thêm Sản Phẩm"},name:"add-product"},{path:"",component:yt,meta:{text:"Danh Sách Sản Phẩm"},name:"list-product"}]},{path:"gundamnew/404",name:"errorpage",component:D}]});var wt=vt,_t=a("5c96"),kt=a.n(_t),It=(a("0fae"),a("4b0a")),Lt=a.n(It);l["default"].config.productionTip=!1,l["default"].use(kt.a,{locale:Lt.a}),new l["default"]({router:wt,render:t=>t(c)}).$mount("#app")},"57ec":function(t,e,a){t.exports=a.p+"img/empty-img.7c125e10.png"},"6af4":function(t,e,a){"use strict";a("8cfe")},"6e71":function(t,e,a){},"6ed7":function(t,e,a){"use strict";a("0fa5")},"725d":function(t,e,a){"use strict";a("e6a6")},8849:function(t,e,a){"use strict";a("d9a7")},"8b7e":function(t,e,a){},"8cfe":function(t,e,a){},b8b8:function(t,e,a){"use strict";a("23b9")},ba9c:function(t,e,a){"use strict";a("6e71")},d9a7:function(t,e,a){},e6a6:function(t,e,a){}});
//# sourceMappingURL=app.ff21cae8.js.map